<section data-ng-controller="SequencesController" data-ng-init="findOne()">
	<ol class="breadcrumb">
		<li><a href="#!/courses">Courses</a></li>
		<li><a data-ng-href="#!/courses/{{courseSerial}}" data-ng-bind="courseSerial"></a></li>
		<li class="active"><a data-ng-href="#!/courses/{{courseSerial}}/sequences/{{sequenceIndex}}" data-ng-bind="sequence.name"></a></li>
	</ol>

	<h2 data-ng-bind="sequence.name"></h2>

	<div class="col-md-9">
		<div class="action-box" data-ng-if="(authentication.user) && (authentication.user.roles.indexOf('admin') != -1)">
			<a data-ng-href="#!/courses/{{courseSerial}}/sequences/{{sequenceIndex}}/edit" class="btn btn-success"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit sequence</a> <a data-ng-href="#!/courses/{{courseSerial}}/sequences/{{sequenceIndex}}/lessons/create" class="btn btn-success"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New lesson</a>
		</div>

		<div data-ng-if="sequence.description" class="description" data-ng-bind="sequence.description"></div>

		<div data-ng-if="sequence.lessons && sequence.lessons.length > 0" class="list-group" >
			<a data-ng-repeat="i in getNumber(sequence.lessons.length) track by $index" data-ng-href="#!/courses/{{courseSerial}}/sequences/{{sequenceIndex}}/lessons/{{$index + 1}}" class="list-group-item" data-ng-bind="sequence.lessons[$index].name"></a>
		</div>
		<div data-ng-if="! sequence.lessons || sequence.lessons.length === 0" class="alert alert-warning" role="alert">
			No lessons in this sequence yet.
		</div>
	</div>

	<div class="col-md-3">
		<div class="panel panel-info">
			<div class="panel-heading"><h3 class="panel-title">Information</h3></div>
			<div class="panel-body">
				<dl>
					<dt>Start date</dt>
					<dd data-ng-if="sequence.start !== null">{{sequence.start | amDateFormat:'ddd, D MMM YYYY, H:mm'}}</dd>
					<dd data-ng-if="sequence.start === null">&mdash;</dd>
				</dl>
				<dl>
					<dt>End date</dt>
					<dd data-ng-if="sequence.end !== null">{{sequence.start | amDateFormat:'ddd, D MMM YYYY, H:mm'}}</dd>
					<dd data-ng-if="sequence.end === null">&mdash;</dd>
				</dl>
			</div>
		</div>
	</div>
</section>