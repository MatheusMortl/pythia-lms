<section data-ng-controller="CoursesController" data-ng-init="findOne()">
	<ol class="breadcrumb">
		<li><a href="#!/courses">Courses</a></li>
		<li class="active"><a data-ng-href="#!/courses/{{course.serial}}">{{course.serial}}</a></li>
	</ol>

	<h2>{{course.title}}</h2>
	<p>By <span data-ng-repeat="coordinator in course.coordinators">{{coordinator.displayname + ($last ? '' : ', ')}}</span>.</p>

	<div class="action-box" data-ng-if="(authentication.user) && (authentication.user.roles.indexOf('admin') != -1)">
		<a data-ng-href="#!/courses/{{course.serial}}/edit" class="btn btn-success"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit course</a> <a data-ng-href="#!/courses/{{course.serial}}/sequences/create" class="btn btn-success"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New sequence</a>
	</div>

	<div data-ng-if="course.description" class="description">{{course.description}}</div>

	<div data-ng-if="course.sequences && course.sequences.length > 0" class="list-group">
		<a data-ng-init="available = ! ((course.sequences[$index].start === null || isAfter(course.sequences[$index].start)) && (course.sequences[$index].end === null || isBefore(course.sequences[$index].end)))" data-ng-repeat="i in getNumber(course.sequences.length) track by $index" data-ng-href="{{available ? '' : '#!/courses/' + course.serial + '/sequences/' + ($index + 1)}}" data-ng-class="{'list-group-item': true, 'disabled': available}">{{course.sequences[$index].name}}</a>
	</div>
	<div data-ng-if="! course.sequences || course.sequences.length === 0" class="alert alert-warning" role="alert">
		No sequences in this course yet.
	</div>
</section>